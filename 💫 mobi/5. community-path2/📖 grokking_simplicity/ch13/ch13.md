# ğŸ’¡ CH13. í•¨ìˆ˜í˜• ë„êµ¬ ì²´ì´ë‹

    ğŸ—£ï¸ 3ê°œ ì´ìƒ ë¬¼í’ˆì„ êµ¬ë§¤í•œ ìš°ìˆ˜ ê³ ê°ë“¤ ê°ê°ì˜ êµ¬ë§¤ ë‚´ì—­ì—ì„œ ê°€ì¥ ë¹„ì‹¼ êµ¬ë§¤ë¥¼ ì°¾ì•„ì£¼ì„¸ìš”

ìœ„ì™€ ê°™ì€ ìš”ì²­ì´ ë°œìƒí–ˆì„ ë•Œ, ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œ?

## ğŸ”— ì²´ì´ë‹

- ì—¬ëŸ¬ ë‹¨ê³„ë¥¼ í•˜ë‚˜ë¡œ ì¡°í•©í•˜ëŠ” ê²ƒ
- ë‹¨ê³„ë“¤ì„ ì¡°í•©í•´ í•˜ë‚˜ì˜ ì¿¼ë¦¬ë¡œ ë§Œë“œëŠ” ê²ƒ

> í•­ë“± í•¨ìˆ˜

- ì¸ìë¡œ ë°›ì€ ê°’ì„ ê·¸ëŒ€ë¡œ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜
- ì•„ë¬´ ì¼ë„ í•˜ì§€ ì•Šì§€ë§Œ ì¡´ì¬í•´ì•¼ í•  ë•Œ ìœ ìš©í•˜ê²Œ ì“¸ ìˆ˜ ìˆë‹¤.

### â›“ï¸ ì²´ì¸ì„ ëª…í™•í•˜ê²Œ ë§Œë“¤ê¸° 1: ë‹¨ê³„ì— ì´ë¦„ ë¶™ì´ê¸°

- ê° ë‹¨ê³„ì˜ ê³ ì°¨ í•¨ìˆ˜ë¥¼ ë¹¼ë‚´ ì´ë¦„ì„ ë¶™ì´ì.

        ë‹¨ê³„ê°€ ë” ì§§ì•„ì§€ê³ , ì½”ë“œê°€ ëª¨ì—¬ìˆì–´ ì˜ë¯¸ë¥¼ ì´í•´í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.
        ê° ë‹¨ê³„ì— ìˆ¨ì–´ìˆë˜ ê¸°ëŠ¥ë“¤ì˜ êµ¬í˜„ë„ ì•Œì•„ë³´ê¸° ì‰¬ì›Œì§„ë‹¤.

- ê³ ì°¨ í•¨ìˆ˜ì— ì´ë¦„ì„ ë¶™ì—¬ í˜„ì¬ì˜ ë¬¸ë§¥ì— ì¶”ê°€í•œë‹¤.

> ğŸ¤¨ í•˜ì§€ë§Œ ì—¬ì „íˆ ë¬¸ì œê°€ ìˆë‹¤!

- ì½œë°±í•¨ìˆ˜ëŠ” ì—¬ì „íˆ ì¸ë¼ì¸ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆì–´ ë¶„ëª…í•˜ì§€ ì•Šë‹¤.
- ì¸ë¼ì¸ìœ¼ë¡œ ì •ì˜ëœ ì½œë°±í•¨ìˆ˜ëŠ” ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

â¬‡ï¸ **_í•¨ìˆ˜ë¥¼ í˜¸ì¶œ ê·¸ë˜í”„ ì•„ë˜ìª½ìœ¼ë¡œ ë³´ë‚´ê¸° ìœ„í•´ ë” ì‘ì€ í•¨ìˆ˜ë¡œ ìª¼ê°œë ¤ë©´,,,_**

### â›“ï¸ ì²´ì¸ì„ ëª…í™•í•˜ê²Œ ë§Œë“¤ê¸° 2: ì½œë°±ì— ì´ë¦„ ë¶™ì´ê¸°

- ì½œë°±ì„ ë¹¼ë‚´ê³  ì´ë¦„ì„ ë¶™ì—¬ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¡œ ë§Œë“¤ì.

        ë‹¨ê³„ì— ì´ë¦„ì„ ë¶™ì˜€ì„ ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ, ë‹¨ê³„ëŠ” ì§§ê³  ì˜ë¯¸ ì´í•´ë„ ì‰¬ì›Œì§„ë‹¤.
        í˜¸ì¶œ ê·¸ë˜í”„ì˜ ì•„ë˜ìª½ì— ìœ„ì¹˜í•˜ê²Œ ë˜ë¯€ë¡œ ì¬ì‚¬ìš©í•˜ê¸° ì¢‹ì€ ì½”ë“œê°€ ëœë‹¤.
        ë”ìš± ì§ê´€ì ì¸ ì½”ë“œê°€ ëœë‹¤.

> ë‹¨ê³„ì— ì´ë¦„ì„ ë¶™ì´ëŠ” ê²ƒê³¼ ë¹„êµí•˜ë©´?

- ì½œë°±ì— ì´ë¦„ì„ ë¶™ì´ëŠ” ê²ƒì´ ë” ëª…í™•í•˜ê³  ì¬ì‚¬ìš©í•˜ê¸° ì¢‹ë‹¤.
- ì¸ë¼ì¸ ëŒ€ì‹  ì´ë¦„ì„ ë¶™ì—¬ ì½œë°±ì„ ì‚¬ìš©í•  ê²½ìš° ë‹¨ê³„ì˜ ì¤‘ì²©ë„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

### ğŸ”— ìŠ¤íŠ¸ë¦¼ ê²°í•©

    ëŒ€ë¶€ë¶„ ê°€ë¹„ì§€ ì»¬ë ‰í„°ê°€ ì•Œì•„ì„œ ì²˜ë¦¬í•œë‹¤!
    - filter()ì™€ map() ëª¨ë‘ í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ë°°ì—´ì´ ìƒê¸´ë‹¤.
    - í•˜ì§€ë§Œ ë§Œë“¤ì–´ì§„ ë°°ì—´ì´ í•„ìš”ì—†ì–´ì§ˆ ë•Œ ê°€ë¹„ì§€ ì»¬ë ‰í„°ê°€ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ë¯€ë¡œ íš¨ìœ¨ ìƒì˜ ë¬¸ì œê°€ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤.

ğŸ¤” **_ê·¸ë˜ë„ ë¹„íš¨ìœ¨ì ì´ë¼ë©´?_**

> ğŸ¤¸â€â™€ï¸ ìŠ¤íŠ¸ë¦¼ ê²°í•©ì„ ì‚¬ìš©í•˜ì!

- map(), filter(), reduce() ì²´ì¸ì„ ìµœì í™”í•˜ëŠ” ê²ƒ
- ìµœì í™”ë¥¼ ìœ„í•œ ë°©ì‹ì´ë¯€ë¡œ ë³‘ëª©ì´ ìƒê²¼ì„ ë•Œë§Œ ì“°ëŠ” ê²ƒì´ ì¢‹ìŒ
  - ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì—ëŠ” ì—¬ëŸ¬ ë‹¨ê³„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ëª…í™•í•˜ê³  ì½ê¸° ì‰½ë‹¤!

## âš’ï¸ ë°˜ë³µë¬¸ì„ í•¨ìˆ˜í˜• ë„êµ¬ë¡œ ë¦¬íŒ©í„°ë§í•˜ê¸°

ğŸ¤” **_ê·¸ë ‡ë‹¤ë©´ ê¸°ì¡´ì— ìˆë˜ ë°˜ë³µë¬¸ì„ í•¨ìˆ˜í˜• ë„êµ¬ë¡œ ë¦¬íŒ©í„°ë§í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?_**

### ğŸŒŸ íŒ 1: ë°ì´í„° ë§Œë“¤ê¸°

- ë°ì´í„°ë¥¼ ë°°ì—´ì— ë„£ìœ¼ë©´ í•¨ìˆ˜í˜• ë„êµ¬ë¥¼ ì“¸ ìˆ˜ ìˆë‹¤.

### ğŸŒŸ íŒ 2: í•œ ë²ˆì— ì „ì²´ ë°°ì—´ì„ ì¡°ì‘í•˜ê¸°

- í•˜ìœ„ ë°°ì—´ì„ ìƒì„±í–ˆìœ¼ë¯€ë¡œ ì¼ë¶€ ë°°ì—´ì´ ì•„ë‹Œ ë°°ì—´ ì „ì²´ì— ëŒ€í•œ ë°˜ë³µì´ ê°€ëŠ¥í•˜ë‹¤.
- map(), filter(), reduce()ëŠ” ë°°ì—´ ì „ì²´ì—ì„œ ë™ì‘í•˜ë¯€ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

### ğŸŒŸ íŒ 3: ì‘ì€ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ê¸°

- ìœ„ì˜ ê³¼ì •ì—ì„œ ë°°ì—´ì˜ í•­ëª©ì´ ì•„ë‹Œ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ë°˜ë³µí•´ì•¼í•˜ëŠ” ë¬¸ì œê°€ ìƒê¸´ë‹¤.
- ì¸ë±ìŠ¤ë¡œ ë°˜ë³µí•˜ëŠ” ì½”ë“œë¥¼ í•˜ë‚˜ì˜ ë‹¨ê³„ë¡œ ë§Œë“¤ê¸°ëŠ” ì–´ë ¤ìš°ë¯€ë¡œ ë” ì‘ì€ ë‹¨ê³„ë¡œ ë‚˜ëˆŒ í•„ìš”ê°€ ìˆë‹¤.
- ì¸ë±ìŠ¤ê°€ ë“¤ì–´ ìˆëŠ” ë°°ì—´ì„ ë§Œë“¤ê³ , ì¸ë±ìŠ¤ ë°°ì—´ ì „ì²´ì— í•¨ìˆ˜í˜• ë„êµ¬ë¥¼ ì‚¬ìš©í•œë‹¤.

### ğŸ¤– ì ˆì°¨ì  ì½”ë“œì™€ í•¨ìˆ˜í˜• ì½”ë“œ ë¹„êµí•˜ê¸°

> BEFORE

```js
// ì ˆì°¨ì ì¸ ì›ë˜ ì½”ë“œ
let answer = [];

let window = 5;

for (let i = 0; i < array.length; i++) {
  let sum = 0;
  let count = 0;
  for (let j = 0; j < window; j++) {
    let idx = i + j;
    if (idx < array.length) {
      sum += array[idx];
      count += 1;
    }
  }
  answer.push(sum / count);
}
```

- ë°˜ë³µë¬¸ì´ ì¤‘ì²©ëœë‹¤.
- ì¸ë±ìŠ¤ë¥¼ ê³„ì‚°í•˜ë©° ì§€ì—­ ë³€ìˆ˜ê°€ ë³€ê²½ëœë‹¤.

> AFTER

```js
// í•¨ìˆ˜í˜• ë„êµ¬ë¥¼ ì‚¬ìš©í•œ ì½”ë“œ
let answer = [];

let indices = range(0, array.length);
let windows = map(indices, (i) => {
  array.slice(i, i + window);
});
let answer = map(windows, average);

// ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì¶”ê°€ ë„êµ¬
function range(start, end) {
  let ret = [];
  for (let i = start; i < end; i++) {
    ret.push(i);
  }
  return ret;
}
```

- ë°°ì—´ì„ ì´ë™í•˜ë©° í‰ê· ì„ êµ¬í•œë‹¤.
  - ìˆ«ì ë¦¬ìŠ¤íŠ¸ê°€ ìˆì„ ë•Œ ê° ìˆ«ìì— ëŒ€í•œ windowë¥¼ ë§Œë“ ë‹¤.
  - ê° windowì˜ í‰ê· ì„ êµ¬í•œë‹¤.

## ğŸ”— ì²´ì´ë‹ íŒ

### â›“ï¸ ì²´ì´ë‹ íŒ ìš”ì•½

    1. ë°ì´í„° ë§Œë“¤ê¸°
       - ë°°ì—´ ì¼ë¶€ì— ëŒ€í•´ ë™ì‘í•˜ëŠ” ë°˜ë³µë¬¸ì—ì„œ, ë°°ì—´ ì¼ë¶€ë¥¼ ìƒˆë¡œìš´ ë°°ì—´ë¡œ ë§Œë“¤ê¸°
       - ìƒˆë¡œìš´ ë°°ì—´ì— í•¨ìˆ˜í˜• ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì—… ì¤„ì´ê¸°

    2. ë°°ì—´ ì „ì²´ë¥¼ ë‹¤ë£¨ê¸°
       - map()ìœ¼ë¡œ ëª¨ë“  í•­ëª© ë³€í™˜í•˜ê¸°
       - filter()ë¡œ í•­ëª©ì„ ì—†ì• ê±°ë‚˜ ìœ ì§€í•˜ê¸°
       - reduce()ë¡œ í•­ëª©ì„ í•˜ë‚˜ë¡œ í•©ì¹˜ê¸°

    3. ì‘ì€ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ê¸°
       - ì•Œê³ ë¦¬ì¦˜ì´ í•œ ë²ˆì— ë„ˆë¬´ ë§ì€ ì¼ì„ í•˜ì§€ ì•Šê²Œ ë‘ ê°œ ì´ìƒì˜ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ê¸°
       - ì‘ì€ ë‹¨ê³„ê°€ ë” ë‹¨ìˆœí•˜ë‹¤!

    4. ì¡°ê±´ë¬¸ì„ filter()ë¡œ ë°”ê¾¸ê¸°
       - ë°˜ë³µë¬¸ ì•ˆì—ì„œ í•­ëª©ì„ ê±´ë„ˆë›°ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

    5. ìœ ìš©í•œ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ê¸°

    6. ê°œì„ ì„ ìœ„í•´ ì‹¤í—˜í•˜ê¸°

### â›“ï¸ ì²´ì´ë‹ ë””ë²„ê¹…ì„ ìœ„í•œ íŒ

> êµ¬ì²´ì ì¸ ê²ƒì„ ìœ ì§€í•˜ê¸°

- ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ, (íŠ¹íˆ íŒŒì´í”„ë¼ì¸ ë‹¨ê³„ê°€ ë§ë‹¤ë©´) ë°ì´í„°ì˜ í˜•íƒœë¥¼ ìŠì–´ë²„ë¦¬ê¸° ì‰½ë‹¤.
- ê° ë‹¨ê³„ì—ì„œ í•˜ëŠ” ì¼ì„ ì•Œê¸° ì‰½ê²Œ ë³€ìˆ˜ëª… ë“±ì„ ì§“ì!

> ì¶œë ¥í•´ë³´ê¸°

- ì¤‘ê°„ì— ì–´ë–¤ ë°ì´í„°ê°€ ìƒê¸°ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ console ë“±ì„ ì‚¬ìš©í•˜ì.
- ë³µì¡í•œ ì²´ì¸ì—ì„œ, í•œ ë²ˆì— í•œ ë‹¨ê³„ì”© ì¶”ê°€í•´ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê³  ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì¶”ê°€í•˜ì.

> íƒ€ì…ì„ ë”°ë¼ê°€ë³´ê¸°

- JSì²˜ëŸ¼ íƒ€ì…ì´ ì—†ëŠ” ì–¸ì–´ë¼ë„, í•¨ìˆ˜í˜• ë„êµ¬ëŠ” íƒ€ì…ì„ ê°–ëŠ”ë‹¤.
  - ë‹¤ë§Œ ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì…ì„ ê²€ì‚¬í•˜ì§€ ì•Šì„ ë¿!
  - ê° ë‹¨ê³„ë¥¼ ì§€ë‚˜ëŠ” ê°’ì˜ íƒ€ì…ì„ ë”°ë¼ê°€ë³´ì.
- map
  - ì½œë°±ì´ ë¦¬í„´í•˜ëŠ” íƒ€ì…ì˜ ê°’ì´ ë“¤ì–´ìˆëŠ” ìƒˆë¡œìš´ ë°°ì—´ì„ ë°˜í™˜í•œë‹¤.
- reduce
  - ì½œë°±ì´ ë¦¬í„´í•˜ëŠ” ê°’, ì´ˆê¹ƒê°’ê³¼ íƒ€ì…ì´ ê²°ê´ê°’ì˜ íƒ€ì…ì´ ê°™ë‹¤.

### â›“ï¸ ë‹¤ì–‘í•œ í•¨ìˆ˜í˜• ë„êµ¬

> pluck( )

- ë°°ì—´ì—ì„œ fieldëª…ì´ ê°€ì§€ê³  ìˆëŠ” ëª¨ë“  valueë¥¼ ë°°ì—´ í˜•íƒœë¡œ ë¦¬í„´í•œë‹¤.
- map()ìœ¼ë¡œ íŠ¹ì • í•„ë“œê°’ì„ ê°€ì§€ê³  ì˜¤ê¸° ìœ„í•´ ë§¤ë²ˆ ì½œë°±ì„ ì‘ì„±í•˜ëŠ” ê²ƒì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```js
/// pluck()

function pluck(array, field) {
  return map(array, function (object) {
    return object[field];
  });
}

let prices = pluck(products, "price");
```

> invokeMap( )

- arrayì— ë“¤ì–´ìˆëŠ” ê°ì²´ë“¤ì˜ method ë©”ì†Œë“œë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œí•œ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜

```js
function invokeMap(array, method) {
  return map(array, function (object) {
    return object[method]();
  });
}
```

> concat( )

- ë°°ì—´ ì•ˆì˜ ë°°ì—´ì„ ëº„ ìˆ˜ ìˆëŠ” ë„êµ¬
- ì¤‘ì²©ëœ ë°°ì—´ì„ í•œ ë‹¨ê³„ì˜ ë°°ì—´ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```js
/// concat()

function concat(arrays) {
  let ret = [];
  forEach(arrays, function (array) {
    forEach(array, function (element) {
      ret.push(element);
    });
  });
  return ret;
}

let purchaseArrays = pluck(customers, "purchases");
let allPurchases = concat(purchaseArrays);
```

- <code>concatMap( ), mapcat( ), flatMap( )</code> ê³¼ ë¹„ìŠ·í•˜ë‹¤.
- flatMap( )ì€ ë¨¼ì € ë“¤ì–´ì˜¨ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¤‘ê°„ì— ìƒˆë¡œìš´ ë°ì´í„°ê°€ ë“¤ì–´ì˜¤ë©´ ë‚˜ì¤‘ì— ë“¤ì–´ì˜¨ ë°ì´í„°ì˜ ì²˜ë¦¬ ê²°ê³¼ê°€ ë¨¼ì € ì¶œë ¥ë  ìˆ˜ë„ ìˆë‹¤.
- concatMap( )ì€ ë¨¼ì € ë“¤ì–´ì˜¨ ë°ì´í„°ë¶€í„° ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•œë‹¤.

```js
function concatMap(array, f) {
  return concat(map(array, f));
}
```

>

> frequenciesBy( ),

- ê°œìˆ˜ë¥¼ ì„¸ëŠ” í•¨ìˆ˜í˜• ë„êµ¬

```js
function frequenciesBy(array, f) {
  let ret = {};
  forEach(array, function (element) {
    let key = f(element);
    if (ret[key]) ret[key] += 1;
    else ret[key] = 1;
  });
  return ret;
}

let howMany = frequenciesBy(products, function (p) {
  return p.type;
});
```

> groupBy( )

- ê·¸ë£¹í™”í•˜ëŠ” í•¨ìˆ˜í˜• ë„êµ¬

```js
function groupBy(array, f) {
  let ret = {};
  forEach(array, function (element) {
    let key = f(element);
    if (ret[key]) ret[key].push(element);
    else ret[key] = [element];
  });
  return ret;
}

let groups = groupBy(range(0, 10), isEven);
```

### ğŸ’¡ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ ì°½ì˜ì ìœ¼ë¡œ ë§Œë“¤ê¸°

- ì¸ìë¥¼ ë°ì´í„°ë¡œ í‘œí˜„í•˜ì.
  - ì˜ˆ: ë°°ì—´ì— ë™ì‘ ì´ë¦„(ì¶”ê°€, ì‚­ì œ)ê³¼ ì œí’ˆ ì´ë¦„ì¸ ì¸ìë¥¼ ë„£ì–´ ë™ì‘ì„ ì™„ì „í•œ ë°ì´í„°ë¡œ í‘œí˜„í•˜ê¸°
- ì¸ìë¥¼ ë°ì´í„°ë¡œ ë§Œë“¤ë©´ í•¨ìˆ˜í˜• ë„êµ¬ ì²´ì´ë‹ì— ìš©ì´í•˜ë‹¤.
- ì²´ì´ë‹ì„ í•  ë•Œ ë¦¬í„´í•  ë°ì´í„°ë¥¼ ë‹¤ìŒ ë‹¨ê³„ì˜ ì¸ìì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì!

### ğŸ“ ë©”ì„œë“œ ì—°ì‚°ìë¡œ ì •ë ¬í•˜ê¸°

- í•¨ìˆ˜í˜• ë„êµ¬ë¥¼ ì²´ì´ë‹í•  ë•Œ ì  ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì§ìœ¼ë¡œ ì •ë ¬ëœ ë¼ì¸ì´ ê°€ë…ì„±ì— ì¢‹ë‹¤.
- ì ì„ í†µí•´ ë‚˜íƒ€ë‚¸ ì˜ ì—°ê²°ëœ ì—¬ëŸ¬ ë‹¨ê³„ëŠ” ê°€ì¥ ìœ„ë¡œ ë°ì´í„°ê°€ ë“¤ì–´ì™€ ê°€ì¥ ì•„ë˜ë¡œ ë‚˜ê°€ëŠ” íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ í•´ì„í•  ìˆ˜ ìˆë‹¤.
