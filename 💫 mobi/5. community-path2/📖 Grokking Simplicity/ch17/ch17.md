# 💡 CH17. 타임라인 조율하기

## 💡 좋은 타임라인의 원칙

<details>
<summary>ch15에서 다룬 원칙들 다시 보기</summary>
<div markdown="1">

- 가능한 실행 순서의 개수 공식

  <img src="https://github.com/JeongwooHam/FE_Study_Logs/assets/123251211/d4723d1a-cf92-4ef7-a2d3-e9650756bd64" width="30%"/>

### 1️⃣ 타임라인은 적을수록 이해하기 쉽다.

- 타임라인이 하나라면 모든 액션은 앞의 액션 다음에 바로 실행되므로 가장 이해하기 쉽다.
- 멀티스레드, 비동기 콜백, 클라이언트-서버 간 통신 등을 사용하려면 새로운 타임라인이 필요하다.
- 위의 공식에서 t를 줄인다면 훨씬 이해하기 쉬운 시스템이 된다.

### 2️⃣ 타임라인은 짧을수록 이해하기 쉽다.

- 타임라인의 단계(위의 공식에서 a)를 줄인다면 실행 가능한 순서의 수도 많이 줄어들기 때문에 이해하기 쉬운 타임라인을 만들 수 있다.

### 3️⃣ 공유하는 자원이 적을수록 이해하기 쉽다.

- 서로 다른 타임라인에 있는 두 액션이 서로 자원을 공유하지 않는다면 실행 순서에 신경을 쓸 필요가 없다.
- 실행 가능한 순서의 개수가 줄어들지 않더라도 신경써야 할 실행 가능한 순서를 줄일 수 있다.

### 4️⃣ 자원을 공유한다면 서로 조율해야 한다.

- 공유 자원을 3️⃣번에서 많이 없애더라도 남아있는 공유 자원들은 타임라인 간에 안전하게 공유되어야 한다.
- 안전하게 공유
  - 올바른 순서대로 자원을 쓰고 돌려준다.
- 타임라인 간 조율
  - 올바른 결과를 주지 않는 실행 순서를 없애는 것

</div>
</details>

### 5️⃣ 시간을 일급으로 다룬다.

- 타임라인을 다루는 재사용 가능한 객체를 만들면 액션의 순서와 타이밍을 맞추는 것을 쉽게 만들 수 있다.

```
👩‍🏫 ch17에서는 다섯 번째 원칙을 다룹니다!
```

## ⚠️ 아직 버그가 남아있다!

## 💫 타임라인 다이어그램 그려보기

### 🔎 실행 가능한 순서 분석하기

### 🧐 왜 지금 타임라인이 더 빠를까?

### 🤔 먼저 보낸 AJAX 요청에 대한 응답이 나중에 보낸 요청에 대한 응답보다 늦어지는 이유는 무엇일까?

## 💡 모든 병렬 콜백 기다리기

### 📍 타임라인을 나누기 위한 동시성 기본형

### 🧐 <code>Cut( )</code>에 대한 QnA

### 🔎 불확실한 순서 분석하기

### 🔎 병렬 실행 분석

### 🔎 여러 번 클릭하는 경우 분석

## 📢 딱 한 번만 호출하는 기본형

## ⏱️ 암묵적 시간 모델 vs 명시적 시간 모델

### 🤔 QnA

## 📄 TL;DR: 타임라인 사용하기

```
👩‍🏫 더 좋은 방법으로 여러 타임라인을 함께 사용하기 위한 방법을 정리해봅시다.
```

#### 📍 타임라인 수 줄이기

- 스레드나 비동기 호출, 서버 요청을 줄여 적은 타임라인을 만듦으로써 시스템을 단순하게 만들 수 있다.

#### 📍 타임라인 길이 줄이기

- 타임라인에 있는 액션을 줄이고 액션을 타임라인에 표시하지 않는 계산으로 바꾸자.
- 암묵적인 입력과 출력을 없애자.

#### 📍 공유 자원 없애기

- 자원을 공유하지 않는 타임라인은 순서 문제가 생기지 않는다.
- 가능하다면 단일 스레드에서 공유 자원에 접근하게 하자.

#### 📍 동시성 기본형으로 자원 공유하기

- 자원을 안전하지 않게 공유하는 경우 큐나 락을 사용해 안전하게 공유할 수 있는 방법으로 바꾸자.

#### 📍 동시성 기본형으로 조율하기

- 타임라인을 조율하기 위해 Promise나 컷 등으로 액션의 순서나 반복을 제한하자.
